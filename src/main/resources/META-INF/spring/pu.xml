<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:os-core="http://www.openspaces.org/schema/core"
       xmlns:os-events="http://www.openspaces.org/schema/events"
       xmlns:os-remoting="http://www.openspaces.org/schema/remoting"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd
       http://www.openspaces.org/schema/core http://www.openspaces.org/schema/9.0/core/openspaces-core.xsd
       http://www.openspaces.org/schema/events http://www.openspaces.org/schema/9.0/events/openspaces-events.xsd
       http://www.openspaces.org/schema/remoting http://www.openspaces.org/schema/9.0/remoting/openspaces-remoting.xsd">
    <!--
         Spring propery configurer which allows us to use system properties 
		(such as user.name).
    -->
    <bean id="propertiesConfigurer" class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer" />

    <context:annotation-config />

    <!-- Scan for components (both Spring ones and OpenSpaces ones) -->
    <context:component-scan base-package="com.gigaspaces.eviction" />

    <!-- Enables the usage of @GigaSpaceContext annotation based injection. -->

    <os-core:giga-space-context />

    <os-core:space id="space" url="/./mySpace?groups=sagi">
        <os-core:properties>
           <props>
			<prop key="space-config.engine.cache_policy">2</prop>
			<prop key="space-config.engine.eviction_strategy">com.gigaspaces.eviction.singleorder.ClassBasedEvictionLRUStrategy</prop>
		    <prop key="space-config.engine.cache_size">1000</prop>
	       </props>
      	</os-core:properties>
    </os-core:space>

    <!-- OpenSpaces simplified space API built on top of IJSpace/JavaSpace. -->

    <os-core:giga-space id="gigaSpace" space="space"/>
      
        <!-- The Feeder bean, writes objects to space -->

        <bean id="LRUFeeder" class="com.gigaspaces.feeder.LRUFeeder" depends-on="gigaSpace" >
        <property name="cacheSize"><value>1000</value></property>
        </bean>
        
        <!-- <bean id="FIFOFeeder" class="com.gigaspaces.feeder.FIFOFeeder" depends-on="gigaSpace" >
        <property name="cacheSize"><value>1000</value></property>
        </bean> -->
        
        <!-- <bean id="ClassSpecificFeeder" class="com.gigaspaces.feeder.ClassSpecificFeeder" depends-on="gigaSpace" >
        <property name="cacheSize"><value>1000</value></property>
        </bean> -->
        
</beans>